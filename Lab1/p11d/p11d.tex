%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% assignment_template.tex
% A template for assignments
% https://github.com/mhyee/latex-examples/
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


% LaTeX Preamble
% Load packages and set options as needed
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Set the document class to "article"
% Pass it "letterpaper" option
\documentclass[letterpaper]{article}

% We don't need the special font encodings, but still
% good practice to include these. See:
%
% http://tex.stackexchange.com/questions/664/why-should-i-use-usepackaget1fontenc
% http://dsanta.users.ch/resources/type1.html
\usepackage[T1]{fontenc}
\usepackage{ae,aecompl}
\usepackage{listings}
\usepackage{fancyhdr} 
\usepackage{float} 
\usepackage{graphicx}
\restylefloat{figure} 


\usepackage[applemac]{inputenc}
% Packages for the math proof in this example
\usepackage{amsmath}
\usepackage{amsthm}

% Set the margins
\newcommand{\margin}{2cm}
\usepackage[top=\margin,right=\margin,left=\margin,bottom=\margin]{geometry}

% Use fancyhdr to define our own headers
\usepackage{fancyhdr}
\setlength{\headheight}{25pt} % Keeps LaTeX happy, takes care of some warnings
\pagestyle{fancy}

% Definitions to fill the header with
% EDIT THESE FIELDS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\course}{  Sistemas Operativos \\ ACI 343}
\newcommand{\assignment}{Pr‡ctica 1.1}
\newcommand{\id}{RUT:}
\newcommand{\name}{Nombre:}
\renewcommand{\date}{ \today}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Now define the header. Make the text bold.
% We'll get something like:
%
% 123456789             LaTeX 101
% J. Random Student   Assignment N      Today's Date
% --------------------------------------------------
%
% This layout is pretty simple, and should be enough for an assignment
% If you want more, you can consult the documentation
% http://www.ctan.org/tex-archive/macros/latex/contrib/fancyhdr/fancyhdr.pdf
\lhead{\textbf{\id\\ \name}}
\chead{\textbf{\course\\ \assignment}}
\rhead{\textbf{\includegraphics[scale=0.35]{udla} \\ \date}}

% Here is an example for customising the numbering
% It changes the first level of numbering to bolded (a), (b), (c), etc
\renewcommand{\theenumi}{\textbf{(\alph{enumi})}}
\renewcommand{\labelenumi}{\theenumi}
% Other options to play with are to change \theenumii, \labelenumii, and enumii for the second level of nesting,
% and so on to \theenumiv, \labelenumiv, and enumiv for the fourth level of nesting.
% The possible formats are \arabic (1, 2...), \alph (a, b...), \Alph (A, B...), \roman (i, ii...), and \Roman (I, II...)

% Begin the actual typesetting, by starting the "document" environment
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

  \section*{Instalaci—n de Linux y configuraci—n del Entorno}
  El objetivo de esta pr‡ctica es conseguir configurar la instalaci—n de una MV basada en Ubuntu Server 12.04 LTS. A continuaci—n se describe una ejemplificaci—n de las tareas que debemos realizar nada m‡s instalar nuestra distribuci—n (dada en la MV de VBox). 
   \subsection*{Tareas Post-instalaci—n} 
    \begin{enumerate}
      \item
      Descargar el archivo comprimido de la instancia de la MV (VirtualBox) que est‡ en la biblioteca de la plataforma Edmodo. Luego hay que abrir el archivo con extensi—n .vbox y aparecer‡ un error configurando de adaptador de red el cual se subsana con la opci—n \emph{Modificar}. TambiŽn hay otror error, el cual se soluciona con inhabilitar la opci—n USB de la MV en \emph{Configuraci—n}.\newline
      \newline
      Una vez iniciada la MV, ingresar en el login: 
       \newline
      usuario: ubuntu\\
      contrase–a: reverse
      

      \item  Gesti—n de usuarios b‡sica y comando sudo:
	\begin{lstlisting}[language=bash]
  	$ sudo passwd root # cambiar contrase–a a root
	$ sudo adduser usuario # crear usuario
	$ sudo adduser usuario sudo # a–adir al grupo sudores
	$ sudo deluser usuario # eliminar usuario
	
	$ logout # salida de usuario
	$ su - # cambio a root
	$ sudo hostname nuevo_host # cambio del nombre del host
	$ hostname # comprobar el nombre del host
	$ uname -a # informaci—n del kernel
	\end{lstlisting}
	
	\item Editor Vi
	\begin{lstlisting}[language=bash]
	- Cursor movementÑh, j, k, l (left, down, up, and right) . Delete characterÑx
	- Delete lineÑdd	
	- Mode toggleÑEsc, Insert (or i)
	- QuitÑ:q
	- Quit without savingÑ:q!
	- Save Ñ :w
	- Save and quit Ñ :wq
	- Run a shell commandÑ:sh (use ÕexitÕ to return) 
	- Text searchÑ/
	- :#	move to line #

	- :$	move to last line of file

  $ sudo vi $HOME/.bashrc 
  #eliminar el comentario a force_color_prompt = yes
  $ source $HOME/.bashrc # para que tengo los efectos

	\end{lstlisting}
      
      \item Servicios (/etc/init.d):
	\begin{lstlisting}[language=bash]
	
  	$ sudo services --status-all
	$ sudo services ssh status
	$ sudo services ssh --status-all # para ver todos los estados
	\end{lstlisting}
	
	\item Redes b‡sico:
	\begin{lstlisting}[language=bash]
	
  	$ sudo apt-get install ethtool 
	$ ifconfig -a	
	$ ifconfig eth0
	$ sudo ifdown eth0
	$ sudo ifup eth0
	
	\end{lstlisting}
            
    \end{enumerate}

  \subsection*{Uso de apt-get}
    \begin{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%      \item
%      Are there irrational numbers $a, b$ such that $a^b$ is rational?
%
 %     \begin{proof}
 %       Suppose $\sqrt{2}^{\sqrt{2}}$ is rational. Then we are done.

%        Otherwise, $\sqrt{2}^{\sqrt{2}}$ is irrational. Then let $a = \sqrt{2}^{\sqrt{2}}$ and let $b=\sqrt{2}$. So %we have
        % \Bigg and \bigg adjust the size of the parentheses
        % \! is a negative space
 %       \[ a^b = \Bigg(\!\sqrt{2}^{\sqrt{2}}\Bigg)^{\sqrt{2}} = \sqrt{2}^{\sqrt{2} \cdot \sqrt{2}} = \bigg(\!\sqrt{2}\bigg)^2 = 2. \]

%        The proof that $\sqrt{2}$ is irrational is left as an exercise for the reader.
%      \end{proof}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    	 \item Teclado e idioma en espa–ol:
	\begin{lstlisting}[language=bash]
	
  	$ sudo apt-get install console-data #teclado
  	$ sudo dpkg-reconfigure console-data # configuraci—n de teclado
  	$ sudo dpkg-reconfigure keyboard-configuration # tipo de teclado
  	$ sudo setupcon
	
	$ sudo apt-get install language-pack-es # installer el paquete de idioma
	
	Modificar los siguientes ficheros:
	
	$ sudo vi /etc/environment
 	$ sudo vi /etc/default/locale
  
         A–adiendo las siguientes l’neas:
        
 	 LANG=Óes_ES.UTF-8"
 	 LC_ALL=Óes_ES.UTF-8"
  	 LANGUAGE=Óes_ESÓ
	
	Configuramos el orden de importancia de los locales:
	es_ES.UTF-8 UTF-8
	en_US.UTF-8 UTF-8
	
	$ sudo vi /var/lib/locales/supported.d/local 
	
	$ sudo dpkg-reconfigure locales # reconfigurar locales
	
  	$ sudo reboot # para los cambios
  	$ locale # comprobar el idioma configurado
  	$ locale -a # comprobar todos los lenguajes
	
	\end{lstlisting}

	
	\item Instalaci—n de paquetes y actualizaciones:
	\begin{lstlisting}[language=bash]
	
  	$ sudo apt-get update # actualizaci—n de repositorios
	$ sudo apt-get upgrade # actualizaci—n de quŽ programas tienen actualizaciones	
	$ sudo apt-get install unattended-upgrades # desantendida
	$ sudo aptitude # instalador de paquetes en modo interfaz de texto
	$ dpkg -l #paquetes instalados en el sistema
	
	\end{lstlisting}
	

    \end{enumerate}
     \subsection*{Entregables}
     \begin{enumerate}
     	\item Memoria
	\item Una captura de los siguientes comandos (donde user es vuestro usuario):
	 \begin{lstlisting}[language=bash]
	
  	$ last > $HOME/user_last
	$ history > $HOME/user_history
	$ cat /etc/passwd > $HOME/user_passwd
	$ locale > $HOME/user_locale
	$ dpkg -l > $HOME/user_dpkg
	
	\end{lstlisting}
	Estos ficheros deben ser enviados mediante scp al profesor junto con la memoria.
	
	
	
	Nota: En el laboratorio, habr‡ un servidor para poder conectarse con un usuario y contrase–a dados por el profesor. Cada usuario podr‡ usar su home para env’o de ficheros. Para ello, se puede utilizar el comando scp. Ejemplo de uso.
	 \begin{lstlisting}[language=bash]
	 	$ sudo scp -r *.* jgonzalez@192.168.1.107:/home/jgonzalez/prac11
 	\end{lstlisting}
     \end{enumerate}

\end{document}

